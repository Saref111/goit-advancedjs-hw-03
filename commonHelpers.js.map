{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common[\"x-api-key\"] = 'live_HiesbHCNozFabauA2TlzO2OtiyWGedKBWDRv7zZNtooEj53fuPidluKoVAklkZzU';\n\nexport const fetchBreeds = async () => {\n    try {\n        const resp = await axios.get('https://api.thecatapi.com/v1/breeds');\n\n        return resp.data; \n    } catch (err) {\n        console.error('Cannot fetch breeds. Error occured: ', err);\n    }\n}\n\nexport const fetchCatByBreed = async (id) => {\n    try {\n        const resp = await axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${id}`);\n\n        return resp.data; \n    } catch (err) {\n        console.error('Cannot fetch breed info. Error occured: ', err);\n    }\n}\n","import {fetchBreeds, fetchCatByBreed} from './js/cat-api.js';\n\nconst breebsSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\nerror.style.display = 'none';\n\nconst renderBreedInfo = (breed) => {\n    const breedInfo = breed.breeds[0];\n    const infoHTMLElement = `\n        <img src=\"${breed.url}\" width=\"600\" height=\"600\" style=\"object-fit: contain;\"/>\n        <div>\n            <h2>${breedInfo.name}</h2>\n            <p>${breedInfo.description}</p>\n            <ul>${breedInfo.temperament.split(', ').map((it) => `<li>${it}</li>`).join('')}</ul>\n        </div>\n    `;\n    catInfo.innerHTML = '';\n    catInfo.insertAdjacentHTML('afterbegin', infoHTMLElement)\n}\n\nconst onBreedsSelectChange = async (e) => {\n    const chosenBreed = e.target[breebsSelect.selectedIndex];\n\n    try {\n        loader.style.display = 'block';\n        const resp = await fetchCatByBreed(chosenBreed.value);\n        renderBreedInfo(resp[0]);\n        loader.style.display = 'none';\n    } catch (err) {\n        loader.style.display = 'none';\n        error.style.display = 'block';\n        console.error('Cannot render breed info. Error occured: ', err);\n    }\n};\n\nconst main = async () => {\n    try {\n        const breeds = await fetchBreeds();\n        const options = breeds.map((b) => `<option value=\"${b.id}\">${b.name}</option>`).join('');\n        breebsSelect.insertAdjacentHTML('afterbegin', options);\n        breebsSelect.addEventListener('change', onBreedsSelectChange);\n        loader.style.display = 'none';\n    } catch (err) {\n        loader.style.display = 'none';\n        error.style.display = 'block';\n        console.error('Cannot render breeds. Error occured: ', err);\n    }\n};\n\nmain();\n"],"names":["axios","fetchBreeds","err","fetchCatByBreed","id","breebsSelect","catInfo","loader","error","renderBreedInfo","breed","breedInfo","infoHTMLElement","it","onBreedsSelectChange","e","chosenBreed","resp","main","options","b"],"mappings":"svBAEAA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAEtC,MAAMC,EAAc,SAAY,CACnC,GAAI,CAGA,OAFa,MAAMD,EAAM,IAAI,qCAAqC,GAEtD,IACf,OAAQE,EAAP,CACE,QAAQ,MAAM,uCAAwCA,CAAG,CAC5D,CACL,EAEaC,EAAkB,MAAOC,GAAO,CACzC,GAAI,CAGA,OAFa,MAAMJ,EAAM,IAAI,wDAAwDI,GAAI,GAE7E,IACf,OAAQF,EAAP,CACE,QAAQ,MAAM,2CAA4CA,CAAG,CAChE,CACL,ECpBMG,EAAe,SAAS,cAAc,eAAe,EACrDC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,QAAQ,EAC7CA,EAAM,MAAM,QAAU,OAEtB,MAAMC,EAAmBC,GAAU,CAC/B,MAAMC,EAAYD,EAAM,OAAO,GACzBE,EAAkB;AAAA,oBACRF,EAAM;AAAA;AAAA,kBAERC,EAAU;AAAA,iBACXA,EAAU;AAAA,kBACTA,EAAU,YAAY,MAAM,IAAI,EAAE,IAAKE,GAAO,OAAOA,QAAS,EAAE,KAAK,EAAE;AAAA;AAAA,MAGrFP,EAAQ,UAAY,GACpBA,EAAQ,mBAAmB,aAAcM,CAAe,CAC5D,EAEME,EAAuB,MAAOC,GAAM,CACtC,MAAMC,EAAcD,EAAE,OAAOV,EAAa,eAE1C,GAAI,CACAE,EAAO,MAAM,QAAU,QACvB,MAAMU,EAAO,MAAMd,EAAgBa,EAAY,KAAK,EACpDP,EAAgBQ,EAAK,EAAE,EACvBV,EAAO,MAAM,QAAU,MAC1B,OAAQL,EAAP,CACEK,EAAO,MAAM,QAAU,OACvBC,EAAM,MAAM,QAAU,QACtB,QAAQ,MAAM,4CAA6CN,CAAG,CACjE,CACL,EAEMgB,EAAO,SAAY,CACrB,GAAI,CAEA,MAAMC,GADS,MAAMlB,KACE,IAAKmB,GAAM,kBAAkBA,EAAE,OAAOA,EAAE,eAAe,EAAE,KAAK,EAAE,EACvFf,EAAa,mBAAmB,aAAcc,CAAO,EACrDd,EAAa,iBAAiB,SAAUS,CAAoB,EAC5DP,EAAO,MAAM,QAAU,MAC1B,OAAQL,EAAP,CACEK,EAAO,MAAM,QAAU,OACvBC,EAAM,MAAM,QAAU,QACtB,QAAQ,MAAM,wCAAyCN,CAAG,CAC7D,CACL,EAEAgB,EAAM"}