{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/ui.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from \"izitoast\";\n\naxios.defaults.headers.common[\"x-api-key\"] = 'live_HiesbHCNozFabauA2TlzO2OtiyWGedKBWDRv7zZNtooEj53fuPidluKoVAklkZzU';\n\nexport const fetchBreeds = async () => {\n    try {\n        const resp = await axios.get('https://api.thecatapi.com/v1/breeds');\n\n        return resp.data; \n    } catch (err) {\n        iziToast.error({\n            title: 'Error occured',\n            message: 'Cannot fetch breeds. Try to reload page!',\n            timeout: false,\n        });\n        console.error('Cannot fetch breeds. Error occured: ', err);\n        return [];\n    }\n}\n\nexport const fetchCatByBreed = async (id) => {\n    try {\n        const resp = await axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${id}`);\n\n        return resp.data; \n    } catch (err) {\n        iziToast.error({\n            title: 'Error occured',\n            message: 'Cannot fetch breed info. Try to choose another breed or reload page!',\n            timeout: false,\n        });\n        console.error('Cannot fetch breed info. Error occured: ', err);\n        return [];\n    }\n}\n","import SlimSelect from 'slim-select';\n\nimport {fetchCatByBreed} from './cat-api.js';\n\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst breebsSelect = document.querySelector('.breed-select');\n\nexport const showLoader = () => {\n    loader.classList.add('loader--visible');\n};\n\nexport const hideLoader = () => {\n    loader.classList.remove('loader--visible');\n};\n\nexport const renderBreedInfo = (breed) => {\n    const breedInfo = breed.breeds[0];\n    const infoHTMLElement = `\n        <img src=\"${breed.url}\" width=\"600\" height=\"600\" class=\"pic\" />\n        <div>\n            <h2>${breedInfo.name}</h2>\n            <p>${breedInfo.description}</p>\n            <ul>${breedInfo.temperament.split(', ').map((it) => `<li>${it}</li>`).join('')}</ul>\n        </div>\n    `;\n    catInfo.innerHTML = '';\n    catInfo.insertAdjacentHTML('afterbegin', infoHTMLElement);\n};\n\nconst onBreedsSelectChange = async (e) => {\n    const chosenBreed = e.target[e.target.selectedIndex];\n\n    try {\n        showLoader();\n        const resp = await fetchCatByBreed(chosenBreed.value);\n        renderBreedInfo(resp[0]);\n        hideLoader();\n    } catch (err) {\n        hideLoader();\n        console.error('Cannot render breed info. Error occured: ', err);\n    }\n};\n\nexport const renderSelect = (breeds) => {\n    const options = breeds.map((b) => `<option value=\"${b.id}\">${b.name}</option>`).join('');\n    breebsSelect.insertAdjacentHTML('afterbegin', options);\n    const slimSelect = new SlimSelect({ select: breebsSelect });\n    breebsSelect.addEventListener('change', onBreedsSelectChange);\n    \n    return slimSelect;\n};\n","import {fetchBreeds} from './js/cat-api.js';\nimport {renderSelect, showLoader, hideLoader} from './js/ui.js';\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst main = async () => {\n    try {\n        showLoader();\n        const breeds = await fetchBreeds();\n        const select = renderSelect(breeds);\n        hideLoader();\n    } catch (err) {\n        hideLoader();\n        console.error('Cannot render breeds. Error occured: ', err);\n    }\n};\n\nmain();\n"],"names":["axios","fetchBreeds","err","iziToast","fetchCatByBreed","id","catInfo","loader","breebsSelect","showLoader","hideLoader","renderBreedInfo","breed","breedInfo","infoHTMLElement","it","onBreedsSelectChange","chosenBreed","resp","renderSelect","breeds","options","b","slimSelect","SlimSelect","main","select"],"mappings":"owBAGAA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAEtC,MAAMC,EAAc,SAAY,CACnC,GAAI,CAGA,OAFa,MAAMD,EAAM,IAAI,qCAAqC,GAEtD,IACf,OAAQE,EAAP,CACE,OAAAC,EAAS,MAAM,CACX,MAAO,gBACP,QAAS,2CACT,QAAS,EACrB,CAAS,EACD,QAAQ,MAAM,uCAAwCD,CAAG,EAClD,EACV,CACL,EAEaE,EAAkB,MAAOC,GAAO,CACzC,GAAI,CAGA,OAFa,MAAML,EAAM,IAAI,wDAAwDK,GAAI,GAE7E,IACf,OAAQH,EAAP,CACE,OAAAC,EAAS,MAAM,CACX,MAAO,gBACP,QAAS,uEACT,QAAS,EACrB,CAAS,EACD,QAAQ,MAAM,2CAA4CD,CAAG,EACtD,EACV,CACL,EC/BMI,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,SAAS,cAAc,eAAe,EAE9CC,EAAa,IAAM,CAC5BF,EAAO,UAAU,IAAI,iBAAiB,CAC1C,EAEaG,EAAa,IAAM,CAC5BH,EAAO,UAAU,OAAO,iBAAiB,CAC7C,EAEaI,EAAmBC,GAAU,CACtC,MAAMC,EAAYD,EAAM,OAAO,GACzBE,EAAkB;AAAA,oBACRF,EAAM;AAAA;AAAA,kBAERC,EAAU;AAAA,iBACXA,EAAU;AAAA,kBACTA,EAAU,YAAY,MAAM,IAAI,EAAE,IAAKE,GAAO,OAAOA,QAAS,EAAE,KAAK,EAAE;AAAA;AAAA,MAGrFT,EAAQ,UAAY,GACpBA,EAAQ,mBAAmB,aAAcQ,CAAe,CAC5D,EAEME,EAAuB,MAAO,GAAM,CACtC,MAAMC,EAAc,EAAE,OAAO,EAAE,OAAO,eAEtC,GAAI,CACAR,IACA,MAAMS,EAAO,MAAMd,EAAgBa,EAAY,KAAK,EACpDN,EAAgBO,EAAK,EAAE,EACvBR,GACH,OAAQR,EAAP,CACEQ,IACA,QAAQ,MAAM,4CAA6CR,CAAG,CACjE,CACL,EAEaiB,EAAgBC,GAAW,CACpC,MAAMC,EAAUD,EAAO,IAAKE,GAAM,kBAAkBA,EAAE,OAAOA,EAAE,eAAe,EAAE,KAAK,EAAE,EACvFd,EAAa,mBAAmB,aAAca,CAAO,EACrD,MAAME,EAAa,IAAIC,EAAW,CAAE,OAAQhB,CAAc,CAAA,EAC1D,OAAAA,EAAa,iBAAiB,SAAUQ,CAAoB,EAErDO,CACX,EC9CME,EAAO,SAAY,CACrB,GAAI,CACAhB,IACA,MAAMW,EAAS,MAAMnB,IACfyB,EAASP,EAAaC,CAAM,EAClCV,GACH,OAAQR,EAAP,CACEQ,IACA,QAAQ,MAAM,wCAAyCR,CAAG,CAC7D,CACL,EAEAuB,EAAM"}