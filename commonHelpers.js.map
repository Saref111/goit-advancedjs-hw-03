{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/ui.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common[\"x-api-key\"] = 'live_HiesbHCNozFabauA2TlzO2OtiyWGedKBWDRv7zZNtooEj53fuPidluKoVAklkZzU';\n\nexport const fetchBreeds = async () => {\n    const resp = await axios.get('https://api.thecatapi.com/v1/breeds');\n    return resp.data; \n}\n\nexport const fetchCatByBreed = async (id) => {\n    const resp = await axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${id}`);\n    return resp.data; \n}\n","import SlimSelect from 'slim-select';\nimport iziToast from 'izitoast';\n\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst breebsSelect = document.querySelector('.breed-select');\n\nexport const renderErrorNotification = (err) => {\n    iziToast.error({\n        title: 'Error occured',\n        message: err.message,\n        timeout: false,\n    });\n};\n\nexport const clearInfo = () => {\n    catInfo.innerHTML = '';\n};\n\nexport const showLoader = () => {\n    loader.classList.add('loader--visible');\n};\n\nexport const hideLoader = () => {\n    loader.classList.remove('loader--visible');\n};\n\nexport const renderBreedInfo = (breed) => {\n    const breedInfo = breed.breeds[0];\n    const infoHTMLElement = `\n        <img src=\"${breed.url}\" width=\"600\" height=\"600\" class=\"pic\" />\n        <div>\n            <h2>${breedInfo.name}</h2>\n            <p>${breedInfo.description}</p>\n            <ul>${breedInfo.temperament.split(', ').map((it) => `<li>${it}</li>`).join('')}</ul>\n        </div>\n    `;\n    catInfo.insertAdjacentHTML('afterbegin', infoHTMLElement);\n};\n\nexport const renderSelect = (breeds, onChange) => {\n    const options = breeds.map((b) => `<option value=\"${b.id}\">${b.name}</option>`).join('');\n    breebsSelect.insertAdjacentHTML('afterbegin', options);\n    \n    const slimSelect = new SlimSelect({ select: breebsSelect });\n    breebsSelect.addEventListener('change', onChange);\n    breebsSelect.classList.add('breed-select--visible');\n    \n    return slimSelect;\n};\n","import {fetchBreeds, fetchCatByBreed} from './js/cat-api.js';\nimport {renderSelect, showLoader, hideLoader, clearInfo, renderBreedInfo, renderErrorNotification} from './js/ui.js';\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst onBreedsSelectChange = async (e) => {\n    const chosenBreed = e.target[e.target.selectedIndex];\n\n    try {\n        clearInfo();\n        showLoader();\n        const resp = await fetchCatByBreed(chosenBreed.value);\n\n        if (!resp.length) {\n            throw new Error('No cat found');\n        }\n\n        renderBreedInfo(resp[0]);\n        hideLoader();\n    } catch (err) {\n        hideLoader();\n        renderErrorNotification(err);\n        console.error('Cannot render breed info. Error occured: ', err);\n    }\n};\n\nconst main = async () => {\n    try {\n        showLoader();\n        const breeds = await fetchBreeds();\n        const select = renderSelect(breeds, onBreedsSelectChange);\n        hideLoader();\n    } catch (err) {\n        hideLoader();\n        renderErrorNotification(err);\n        console.error('Cannot render select. Error occured: ', err);\n    }\n};\n\nmain();\n"],"names":["axios","fetchBreeds","fetchCatByBreed","id","catInfo","loader","breebsSelect","renderErrorNotification","err","iziToast","clearInfo","showLoader","hideLoader","renderBreedInfo","breed","breedInfo","infoHTMLElement","it","renderSelect","breeds","onChange","options","b","slimSelect","SlimSelect","onBreedsSelectChange","chosenBreed","resp","main","select"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAEtC,MAAMC,EAAc,UACV,MAAMD,EAAM,IAAI,qCAAqC,GACtD,KAGHE,EAAkB,MAAOC,IACrB,MAAMH,EAAM,IAAI,wDAAwDG,GAAI,GAC7E,KCRVC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,SAAS,cAAc,eAAe,EAE9CC,EAA2BC,GAAQ,CAC5CC,EAAS,MAAM,CACX,MAAO,gBACP,QAASD,EAAI,QACb,QAAS,EACjB,CAAK,CACL,EAEaE,EAAY,IAAM,CAC3BN,EAAQ,UAAY,EACxB,EAEaO,EAAa,IAAM,CAC5BN,EAAO,UAAU,IAAI,iBAAiB,CAC1C,EAEaO,EAAa,IAAM,CAC5BP,EAAO,UAAU,OAAO,iBAAiB,CAC7C,EAEaQ,EAAmBC,GAAU,CACtC,MAAMC,EAAYD,EAAM,OAAO,GACzBE,EAAkB;AAAA,oBACRF,EAAM;AAAA;AAAA,kBAERC,EAAU;AAAA,iBACXA,EAAU;AAAA,kBACTA,EAAU,YAAY,MAAM,IAAI,EAAE,IAAKE,GAAO,OAAOA,QAAS,EAAE,KAAK,EAAE;AAAA;AAAA,MAGrFb,EAAQ,mBAAmB,aAAcY,CAAe,CAC5D,EAEaE,EAAe,CAACC,EAAQC,IAAa,CAC9C,MAAMC,EAAUF,EAAO,IAAKG,GAAM,kBAAkBA,EAAE,OAAOA,EAAE,eAAe,EAAE,KAAK,EAAE,EACvFhB,EAAa,mBAAmB,aAAce,CAAO,EAErD,MAAME,EAAa,IAAIC,EAAW,CAAE,OAAQlB,CAAc,CAAA,EAC1D,OAAAA,EAAa,iBAAiB,SAAUc,CAAQ,EAChDd,EAAa,UAAU,IAAI,uBAAuB,EAE3CiB,CACX,EC5CME,EAAuB,MAAO,GAAM,CACtC,MAAMC,EAAc,EAAE,OAAO,EAAE,OAAO,eAEtC,GAAI,CACAhB,IACAC,IACA,MAAMgB,EAAO,MAAMzB,EAAgBwB,EAAY,KAAK,EAEpD,GAAI,CAACC,EAAK,OACN,MAAM,IAAI,MAAM,cAAc,EAGlCd,EAAgBc,EAAK,EAAE,EACvBf,GACH,OAAQJ,EAAP,CACEI,IACAL,EAAwBC,CAAG,EAC3B,QAAQ,MAAM,4CAA6CA,CAAG,CACjE,CACL,EAEMoB,EAAO,SAAY,CACrB,GAAI,CACAjB,IACA,MAAMQ,EAAS,MAAMlB,IACf4B,EAASX,EAAaC,EAAQM,CAAoB,EACxDb,GACH,OAAQJ,EAAP,CACEI,IACAL,EAAwBC,CAAG,EAC3B,QAAQ,MAAM,wCAAyCA,CAAG,CAC7D,CACL,EAEAoB,EAAM"}