{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from \"izitoast\";\n\naxios.defaults.headers.common[\"x-api-key\"] = 'live_HiesbHCNozFabauA2TlzO2OtiyWGedKBWDRv7zZNtooEj53fuPidluKoVAklkZzU';\n\nexport const fetchBreeds = async () => {\n    try {\n        const resp = await axios.get('https://api.thecatapi.com/v1/breeds');\n\n        return resp.data; \n    } catch (err) {\n        iziToast.error({\n            title: 'Error occured',\n            message: 'Cannot fetch breeds. Try to reload page!'\n        });\n        console.error('Cannot fetch breeds. Error occured: ', err);\n    }\n}\n\nexport const fetchCatByBreed = async (id) => {\n    try {\n        const resp = await axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${id}`);\n\n        return resp.data; \n    } catch (err) {\n        iziToast.error({\n            title: 'Error occured',\n            message: 'Cannot fetch breed info. Try to reload page!'\n        });\n        console.error('Cannot fetch breed info. Error occured: ', err);\n    }\n}\n","import iziToast from \"izitoast\";\nimport SlimSelect from 'slim-select'\nimport {fetchBreeds, fetchCatByBreed} from './js/cat-api.js';\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst breebsSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\n\nconst renderBreedInfo = (breed) => {\n    const breedInfo = breed.breeds[0];\n    const infoHTMLElement = `\n        <img src=\"${breed.url}\" width=\"600\" height=\"600\"/>\n        <div>\n            <h2>${breedInfo.name}</h2>\n            <p>${breedInfo.description}</p>\n            <ul>${breedInfo.temperament.split(', ').map((it) => `<li>${it}</li>`).join('')}</ul>\n        </div>\n    `;\n    catInfo.innerHTML = '';\n    catInfo.insertAdjacentHTML('afterbegin', infoHTMLElement)\n}\n\nconst onBreedsSelectChange = async (e) => {\n    const chosenBreed = e.target[breebsSelect.selectedIndex];\n\n    try {\n        loader.style.display = 'block';\n        const resp = await fetchCatByBreed(chosenBreed.value);\n        renderBreedInfo(resp[0]);\n        loader.style.display = 'none';\n    } catch (err) {\n        loader.style.display = 'none';\n        iziToast.error({\n            title: 'Error occured',\n            message: 'Cannot render breed info. Try to reload page!'\n        })\n        console.error('Cannot render breed info. Error occured: ', err);\n    }\n};\n\nconst main = async () => {\n    try {\n        const breeds = await fetchBreeds();\n        const options = breeds.map((b) => `<option value=\"${b.id}\">${b.name}</option>`).join('');\n        breebsSelect.insertAdjacentHTML('afterbegin', options);\n        new SlimSelect({\n            select: breebsSelect\n        })\n        breebsSelect.addEventListener('change', onBreedsSelectChange);\n        loader.style.display = 'none';\n    } catch (err) {\n        loader.style.display = 'none';\n        iziToast.error({\n            title: 'Error occured',\n            message: 'Cannot render breeds. Try to reload page!'\n        })\n        console.error('Cannot render breeds. Error occured: ', err);\n    }\n};\n\nmain();\n"],"names":["axios","fetchBreeds","err","iziToast","fetchCatByBreed","id","breebsSelect","catInfo","loader","renderBreedInfo","breed","breedInfo","infoHTMLElement","it","onBreedsSelectChange","e","chosenBreed","resp","main","options","b","SlimSelect"],"mappings":"+vBAGAA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAEtC,MAAMC,EAAc,SAAY,CACnC,GAAI,CAGA,OAFa,MAAMD,EAAM,IAAI,qCAAqC,GAEtD,IACf,OAAQE,EAAP,CACEC,EAAS,MAAM,CACX,MAAO,gBACP,QAAS,0CACrB,CAAS,EACD,QAAQ,MAAM,uCAAwCD,CAAG,CAC5D,CACL,EAEaE,EAAkB,MAAOC,GAAO,CACzC,GAAI,CAGA,OAFa,MAAML,EAAM,IAAI,wDAAwDK,GAAI,GAE7E,IACf,OAAQH,EAAP,CACEC,EAAS,MAAM,CACX,MAAO,gBACP,QAAS,8CACrB,CAAS,EACD,QAAQ,MAAM,2CAA4CD,CAAG,CAChE,CACL,ECzBMI,EAAe,SAAS,cAAc,eAAe,EACrDC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAmBC,GAAU,CAC/B,MAAMC,EAAYD,EAAM,OAAO,GACzBE,EAAkB;AAAA,oBACRF,EAAM;AAAA;AAAA,kBAERC,EAAU;AAAA,iBACXA,EAAU;AAAA,kBACTA,EAAU,YAAY,MAAM,IAAI,EAAE,IAAKE,GAAO,OAAOA,QAAS,EAAE,KAAK,EAAE;AAAA;AAAA,MAGrFN,EAAQ,UAAY,GACpBA,EAAQ,mBAAmB,aAAcK,CAAe,CAC5D,EAEME,EAAuB,MAAOC,GAAM,CACtC,MAAMC,EAAcD,EAAE,OAAOT,EAAa,eAE1C,GAAI,CACAE,EAAO,MAAM,QAAU,QACvB,MAAMS,EAAO,MAAMb,EAAgBY,EAAY,KAAK,EACpDP,EAAgBQ,EAAK,EAAE,EACvBT,EAAO,MAAM,QAAU,MAC1B,OAAQN,EAAP,CACEM,EAAO,MAAM,QAAU,OACvBL,EAAS,MAAM,CACX,MAAO,gBACP,QAAS,+CACrB,CAAS,EACD,QAAQ,MAAM,4CAA6CD,CAAG,CACjE,CACL,EAEMgB,EAAO,SAAY,CACrB,GAAI,CAEA,MAAMC,GADS,MAAMlB,KACE,IAAKmB,GAAM,kBAAkBA,EAAE,OAAOA,EAAE,eAAe,EAAE,KAAK,EAAE,EACvFd,EAAa,mBAAmB,aAAca,CAAO,EACrD,IAAIE,EAAW,CACX,OAAQf,CACpB,CAAS,EACDA,EAAa,iBAAiB,SAAUQ,CAAoB,EAC5DN,EAAO,MAAM,QAAU,MAC1B,OAAQN,EAAP,CACEM,EAAO,MAAM,QAAU,OACvBL,EAAS,MAAM,CACX,MAAO,gBACP,QAAS,2CACrB,CAAS,EACD,QAAQ,MAAM,wCAAyCD,CAAG,CAC7D,CACL,EAEAgB,EAAM"}