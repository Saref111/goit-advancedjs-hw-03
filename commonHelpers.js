import{a as l,i as p,S as h}from"./assets/vendor-55111d99.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();l.defaults.headers.common["x-api-key"]="live_HiesbHCNozFabauA2TlzO2OtiyWGedKBWDRv7zZNtooEj53fuPidluKoVAklkZzU";const y=async()=>(await l.get("https://api.thecatapi.com/v1/breeds")).data,g=async e=>(await l.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${e}`)).data,d=document.querySelector(".cat-info"),u=document.querySelector(".loader"),c=document.querySelector(".breed-select"),f=e=>{p.error({title:"Error occured",message:e.message,timeout:!1})},b=()=>{d.innerHTML=""},m=()=>{u.classList.add("loader--visible")},i=()=>{u.classList.remove("loader--visible")},v=e=>{const r=e.breeds[0],o=`
        <img src="${e.url}" width="600" height="600" class="pic" />
        <div>
            <h2>${r.name}</h2>
            <p>${r.description}</p>
            <ul>${r.temperament.split(", ").map(s=>`<li>${s}</li>`).join("")}</ul>
        </div>
    `;d.insertAdjacentHTML("afterbegin",o)},L=(e,r)=>{const o=e.map(t=>`<option value="${t.id}">${t.name}</option>`).join("");c.insertAdjacentHTML("afterbegin",o);const s=new h({select:c});return c.addEventListener("change",r),c.classList.add("breed-select--visible"),s},S=async e=>{const r=e.target[e.target.selectedIndex];try{b(),m();const o=await g(r.value);if(!o.length)throw new Error("No cat found");v(o[0]),i()}catch(o){i(),f(o),console.error("Cannot render breed info. Error occured: ",o)}},w=async()=>{try{m();const e=await y(),r=L(e,S);i()}catch(e){i(),f(e),console.error("Cannot render select. Error occured: ",e)}};w();
//# sourceMappingURL=commonHelpers.js.map
